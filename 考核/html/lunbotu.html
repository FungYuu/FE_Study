<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>轮播图</title>
<style>
*{
    margin: 0;
    padding: 0;
    /* *指代所有的标签 */
}
.page {
    margin-top: 50px;
 }
.box {
    /* width: 800%; */
    height: 520px;
    display: flex;
    position: relative;
    overflow: hidden;
}
.imgList{
    display: flex;
    list-style: none;
    position: absolute;
    /* 子绝父相 */
    left: 0%;
    /* transition: 过渡; */
    /* transition: 过渡的属性  过渡的时间; */
    transition: left 0.5s;
}
.boxImg{
    width: 100%;
    display: block;
}
.navDiv{
    /* 绝对定位 */
    position: absolute;
    /* display: flex; */
    bottom: 25%;
    left: 50%;
    transform: translateX(-50%);
    /* 返回调整自己宽度的一半 */
}
.navDiv a{
    float: left;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: gray;
    margin: 0 5px;
    /* 设置透明 */
    opacity: 0.5;
}
/* 轮播图css样式部分 */
</style>
</head>
<body>
    <div class="page">
        <div class="box">
            <!-- 轮播图html部分 -->
            
            <ul class="imgList" id="imgList">
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-1.fdbf82d4c2ca7fad3225.jpg" alt="">
                </li>
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-2.64b1407e7a8db89d6cf2.jpg" alt="">
                </li>
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-3.ce76c93c7a8a149ce2a2.jpg" alt="">
                </li>
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-4.4ac0f6534a11844638e4.jpg" alt="">
                </li>
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-5.0e9bb68d425a4a5c3b18.jpg" alt="">
                </li>
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-6.80cafe61bcb20a98eb1e.jpg" alt="">
                </li>
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-7.d315f5241113c1fd9035.jpg" alt="">
                </li>
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-8.d14241daf518717981c6.jpg" alt="">
                </li>
                <li>
                    <img class="boxImg" src="https://res.devcloud.huaweicloud.com/obsdevui/diploma/8.1.17.002/banner-1.fdbf82d4c2ca7fad3225.jpg" alt="">
                </li>
            </ul>
            <!-- 创建导航按钮 -->
            <div class="navDiv" id="navDiv">
                <a href="javascript:;"></a>
                <a href="javascript:;"></a>
                <a href="javascript:;"></a>
                <a href="javascript:;"></a>
                <a href="javascript:;"></a>
                <a href="javascript:;"></a>
                <a href="javascript:;"></a>
                <a href="javascript:;"></a>
            </div>

        </div>
    </div>
    <script type="text/javascript">
        /*轮播图javascript部分*/
        window.onload = function(){
            //获取imgList
            var imgList = document.getElementById("imgList");
            //获取页面中所有的img标签
            var imgArr = document.getElementsByTagName("img");
            //设置imgList的宽度
            imgList.style.width = 100 * imgArr.length + "%";

            //默认显示图片的索引
            var index = 0;
            //获取所有的a
            var allA = document.getElementsByTagName("a");
            //设置默认选中效果
            allA[index].style.background = 'skyblue';
            // allA[index].style.width = '30px';
            
            //为所有超链接绑定
            for(var i=0; i<allA.length; i++) {
                //为每一个超链接添加一个num属性
                allA[i].num = i;
                //为超链接绑定单击相应
                allA[i].onclick = function(){

                    //关闭自动切换定时器
                    clearInterval(timer);
                    index = this.num;
                    //切换图片
                    imgList.style.left = -100 * index + "%";
                    setA();
                    autoChange();
                };
            }
            //自动切换
            autoChange();

            //创建一个方法用来设置选中的a
            function setA(){
                //判断当前索引是否为最后一张图片
                if(index >= imgArr.length-1){
                    index = 0;
                    //通过CSS将最后一张切换成第一张
                    imgList.style.left = 0;
                };

                //遍历所有a，将它们背景设置为
                for(var i=0; i<allA.length; i++){
                    allA[i].style.background = "";
                };
                allA[index].style.background = 'skyblue';
            };


            var timer;
            //创造个函数，开启自动切换
            function autoChange(){
                //开启定时器
                timer = setInterval(function(){
                    //索引自增
                        index++;
                        //判断index的值
                        index %= imgArr.length;
                    //切换图片
                    imgList.style.left = -100 * index + "%";
                    setA();
                },3000);
            }
        };
    </script>
</body>
</html> 